## 开发环境

- 开发语言：C/C++, Qt 5.12.1
- 开发工具：Qt Creator 4.8.1
- 编译器：VS2015 x64
- 图像处理：OpenCV 4.0.1
- 数据库：SQLite



## 功能

本项目实现的功能可以分为以下三个部分：

- 患者信息数据库
- 图像处理
- 串口通信



### 患者信息数据库
---

用于维护患者信息，包含对数据库的增、删、改、查操作及信息全部显示功能.

- 患者信息的录入：录入患者的姓名、性别、年龄、身份证号. 若忘记输入患者姓名或身份证号，亦或身份证号不是 18 位，则进行提示，拒绝录入.
- 患者信息的查询：根据姓名查询患者信息. 若没有该患者信息，则进行提示，否则显示信息.
- 患者信息的更新：在查询框显示信息的基础上，选中要更改信息的任意单元格，点击 "更新" 按钮，输入信息即可.
- 患者信息的删除：在查询框显示信息的基础上，选中要删除信息的任意单元格，点击 "删除" 按钮，即可删除信息.
-  显示全部患者信息：点击相应按钮即可，支持将全部信息导出至 Excel 表格.



### 图像处理
---

包含功能：

- 相机的开启和关闭.
- 彩色图像和灰度图像的实时显示.
- 边缘检测.
- 实时高斯模糊：模糊前会检测相机是否开启，可通过上方工具条调节模糊效果.
- 视频录制：可录制多个视频，录制前会检测相机是否开启，之后读取录制时长进行录制. 录制过程中可按任意键结束录制.
- 播放视频：可无声播放 *.avi *.mp4 *.flv *.mkv 四种类型的视频. 播放过程中可按任意键结束播放.
- 实时显示彩色图像内已选像素点的坐标及 RGB 值. 
  - 可通过 "像素选择(开/关)" 控制是否可以选择像素点(默认为不可选). 
  - 最多可选像素点个数默认为 10.
  - 如想清空像素点，可点击 "清空已选像素点" 按钮.
- 实时绘制已选像素点的 RGB 均值曲线. 如未选择像素点，则仅下方坐标轴滚动，并实时显示当前帧数.



### 串口通信
---
用于接收串口数据.

- 开启串口：以只读方式打开串口，读取缓冲区的数据并显示. 默认读取间隔为 200ms.
- 关闭串口：终止数据读取，关闭串口，清空显示区.

#### 测试方法

- 使用 VSPD 软件添加一对虚拟串口 COM1 和 COM2，分别用于接收和发送信息；
- 运行项目程序，程序使用串口 COM1 接收数据；
- 打开友善串口调试助手，设置当前串口为 COM2，用于发送数据. 点击右下角 "打开" ，在旁边空白框中输入要发送的数据，点击 "发送" (可勾选界面左下角的 "重复发送"，以观看实时效果)；
- 测试 "开启串口" 按钮和 "关闭串口" 按钮；
- 测试完毕后，点击调试助手上部方形按钮，关闭串口 COM2；
- 关闭项目程序，在 VSPD 中选中界面左侧的 COM1 或 COM2，点击右侧的 "Delete pair"，删除该对串口，关闭 VSPD，完成调试工作.
